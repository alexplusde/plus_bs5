{"id":23,"key":"bs5\/qanda\/list","name":"translate:bs5_module_qanda","output":"<?php\r\n#######################################################################\r\n# Dieses Modul wird \u00fcber das Addon plus_bs5 verwaltet und geupdatet.\r\n# Um das Modul zu entkoppeln, \u00e4ndere den Modul-Key in REDAXO. Um die \r\n# Ausgabe zu ver\u00e4ndern, gen\u00fcgt es, das passende Fragment zu \u00fcberschreiben.\r\n#######################################################################\r\n\r\nif (!bs5::packageExists('mform, qanda')) {\r\n    return;\r\n};\r\n\r\n$output = new bs5_fragment();\r\n$output->setVar(\"slice_id\", \"REX_SLICE_ID\");\r\n$output->setVar(\"article_id\", \"REX_ARTICLE_ID\");\r\n$output->setVar(\"modul_name\", \"REX_MODULE_KEY\");\r\n\r\n$output->setVar(\"category_ids\", rex_var::toArray(REX_VALUE[5 output=html]));\r\n$output->setVar(\"question_ids\", rex_var::toArray(REX_VALUE[6 output=html]));\r\n\r\necho $output->parse(\"REX_MODULE_KEY\", \"REX_MODULE_KEY\".\".backend\");\r\n\r\nunset($output);\r\n","input":"<?php\r\n#######################################################################\r\n# Dieses Modul wird \u00fcber das Addon plus_bs5 verwaltet und geupdatet.\r\n# Um das Modul zu entkoppeln, \u00e4ndere den Modul-Key in REDAXO. Um die \r\n# Ausgabe zu ver\u00e4ndern, gen\u00fcgt es, das passende Fragment zu \u00fcberschreiben.\r\n#######################################################################\r\n\r\nif (!bs5::packageExists('mform, qanda')) {\r\n    return;\r\n};\r\n\r\n$mform = MForm::factory();\r\n\r\n# REX_VALUE[id=5] - Kategorie-Filter #\r\n\r\n$qanda_categories = qanda_category::query()->find();\r\n$options = [];\r\nforeach ($qanda_categories as $qanda_company) {\r\n    $options[$qanda_company->getId()] = $qanda_company->getName();\r\n}\r\n\r\n$field = $mform->addMultiSelectField(5, $options);\r\n$field->setLabel('translate:bs\/qanda\/list_select_category_label');\r\n\r\n$qandas = qanda::query()->find();\r\n$options = [];\r\nforeach ($qandas as $qanda) {\r\n    $options[$qanda->getId()] = $qanda->getQuestion();\r\n}\r\n\r\n# REX_VALUE[id=6] - Fragen-Filter #\r\n\r\n$field = $mform->addMultiSelectField(6, $options);\r\n$field->setLabel('translate:bs\/qanda\/list_select_question_label');\r\n\r\necho $mform->show();\r\n","createdate":"2022-02-28 19:15:30","createuser":"mail@alexplus.de","updatedate":"2023-06-08 17:10:27","updateuser":"mail@alexplus.de","attributes":null,"revision":0}