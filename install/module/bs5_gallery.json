{"id":2,"key":"bs5.gallery","name":"translate:module.bs5.gallery","output":"<?php\n$modul = rex_var::toArray(\"REX_VALUE[1]\");\n$images = array_filter(explode(\",\", \"REX_MEDIALIST[id=1]\"));\n?>\n<section class=\"modul modul-gallery\" id=\"modul-REX_SLICE_ID\"\r\n\tdata-gallery-items=\"<?php echo count($images); ?>\"\r\n\tdata-layout=\"<?php echo $modul['gallery_mode']; ?>\">\r\n\t<div class=\"gallery-wrapper wrapper\">\r\n\t\t<?php\nif (isset($modul['show_title']) || isset($modul['teaser'])) {\n    echo '<div class=\"teaser-wrapper\">';\n}\n\n#### Title ####\nif (isset($modul['show_title'])) {\n    echo '<div class=\"gallery-title\"><h2>';\n    if (isset($modul['title'])) {\n        echo $modul['title'];\n    } else {\n        \"{{ modul:gallery:title }}\";\n    }\n    echo '<\/h2><\/div>';\n}\n\n#### Teaser ####\nif (isset($modul['teaser'])) {\n    echo '<div class=\"gallery-teaser\">';\n    echo $modul['teaser'];\n    echo '<\/div>';\n}\n\n#### Images ####\nif (count($images)) {\n    ?>\n\t\t<div class=\"images-wrapper\" data-magnific=\"gallery\">\r\n\t\t\t<ul class=\"list-unstyled row g-3\">\r\n\t\t\t\t<?php\n    foreach ($images as $image) {\n        $media = rex_media::get($image);\n        $title = $media->getValue('med_title'); ?>\n\t\t\t\t<li class=\"col-4\">\r\n\t\t\t\t\t<a href=\"\/media\/gallery-image\/<?php echo $image ?>\"\r\n\t\t\t\t\t\ttitle=\"<?php echo $title ?>\">\r\n\t\t\t\t\t\t<img class=\"img-fluid border border-primary\" src=\"\/media\/gallery-thumbnail<?php if (count($images) < 3) {\n\t\t\t\t\t\t    echo \"-full\";\n\t\t\t\t\t\t} ?>\/<?php echo $image ?>\"\r\n\t\t\t\t\t\t\talt=\"<?php echo $title ?>\" \/>\r\n\t\t\t\t\t<\/a>\r\n\t\t\t\t<\/li>\r\n\t\t\t\t<?php\n    } ?>\n\t\t\t<\/ul>\r\n\t\t<\/div>\r\n\t\t<?php\n}\n?>\n\t<\/div>\r\n<\/section>\r\n","input":"<?php\n\nuse Alexplusde\\BS5\\Helper;\nuse FriendsOfRedaxo\\MForm;\n\n\/* Addon-Pr\u00fcfung *\/\n$requiredAddons = ['mform', 'mediapool', 'media_manager', 'media_manager_responsive', 'redactor'];\nif (!Helper::packageExists($requiredAddons)) {\n    echo rex_view::error(rex_i18n::rawMsg('bs5_missing_addon', implode(', ', $requiredAddons)));\n    return;\n};\n\n\/* Instruktionen *\/\nHelper::showBackendUserInstruction(\"Legacy-Modus: Die Werte der Eingabefelder m\u00fcssen in das untenstehende Formular \u00fcbertragen werden.\");\n\nHelper::showBackendUserA18yInstruction(\"F\u00fcr Barrierefreiheit beachten, im Medienpool den Titel des Downloads und ggf. eine Beschreibung zu setzen.\");\n\n\/* MForm-Formular *\/\n$mform = new MForm();\n\n$mform->addFieldsetArea('Teaser');\n\n$mform->addTextField(\"1.title\", array('label'=>'Eigene \u00dcberschrift'));\n$mform->addCheckboxField(\"1.show_title\", array(1=>'ja'), array('label'=>'anzeigen?'))->setDefaultValue(1);\n\n$mform->addTextAreaField(\"1.teaser\", array('label'=>'Einleitung','class'=>'redactor-editor--text', 'id'=>'redactor_1'));\n\n$mform->addMedialistField(1, array('label'=>'Galerie'));\n$mform->addSelectField(\"1.gallery_mode\", array('max'=>'Vollbild','grid'=>'Raster','slide'=>'Slideshow'), array('label'=>'Modus'));\n\necho $mform->show();\n","createdate":"2016-10-27 11:35:28","createuser":"aw@alexplus.de","updatedate":"2024-12-11 00:56:38","updateuser":"mail@alexplus.de","attributes":"","revision":0}